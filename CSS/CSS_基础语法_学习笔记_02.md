# CSS基础语法学习笔记02

## 文档流（normal flow）

在网页的多层结构中，文档流是最底下的一层，是网页的基础。我们所创建的元素默认都是在文档流中进行排列。

一般而言元素有两个状态：在文档流中，不在文档流中（脱离文档流）。

元素在文档流中根据不同特点可以分为块元素和行内元素。



### 块元素

1. 在页面中会独占一行，自上而下垂直排列；
2. 默认宽度是父元素的全部（会把父元素撑满）；
3. 默认高度是被内容撑开（子元素）。



### 行内元素

1. 在页面中不会独占一行，只占自身的大小，且自左向右水平排列；
2. 默认宽度和高度都是被内容撑开。



## 盒模型

CSS将页面中所有元素都设为一个矩形的盒子，每个盒子都由以下几部分组成，内容区、边框、内边距、外边距。



### 内容区（content）

元素中所有的子元素都在内容区中排列；大小通过width和height两个属性来设置。



### 边框（border）

边框是盒子的边缘，其大小会影响到整个盒子的大小。

设置边框需要至少设置以下三个样式

- border-width

  可以用来指定四个方向的边框的宽度

  - ```css
    border-width: 10px 20px 30px 40px
    /*四个值，分别对应上、右、下、左*/
    ```

  - ```css
    border-width: 10px 20px 30px
    /*三个值，分别对应上、左右、下*/
    ```

  - ```css
    border-width: 10px 20px
    /*两个值，分别对应上下、左右*/
    ```

  - 也可以使用border-xxx-width来指定单独的边，其中xxx可以是top、right、bottom、left。

- border-color

  同样可以分别指定四个方向的边框的颜色，规则与上述宽度的规则一样

- border-style

  边框的风格（实线、虚线等）

  - solid表示实线

  - dotted表示点状虚线

  - dashed表示虚线

  - double表示双实线

  - 同样可以分别指定四个方向的边框的风格，规则同上



border简写属性，可以同时设置边框的相关样式，无顺序要求

```css
border: 10px, red, solid;

/*以及对指定方向边框的设置*/
border-xxx:10px, red, solid;
```



### 内边距（padding）

内边距是内容区和边框之间的距离，也包括四个部分。

1. padding-top
2. padding-right
3. padding-bottom
4. padding-left 

注意事项：

1. 对背景的颜色设置会延伸到内边距里；
2. padding的简写属性规则与border类似；
3. 盒子的可见框大小由内容区、内边距和边框共同决定。



### 外边距（margin）

外边距不会影响盒子可见框的大小，但是会影响盒子的实际占用空间和位置。也有四个方向的外边距，属性值可以为正也可以为负。

1. margin-top
2. margin-right
3. margin-bottom
4. margin-left

margin的简写与之前border和padding类似。



### 盒子模型水平方向上的布局

一个元素在其父元素中，水平布局一定要满足以下的等式：

**(margin-left)+(border-left)+(padding-left)+width+(padding-right)+(border-right)+(margin-right)=父元素内容区的宽度**



等式会自动调整属性值使其一直成立，width、margin-left、margin-right可以被设置为auto。

1. 如果width和一个外边距设置为auto，则width会调整到最大，设置为auto的外边距值调整为0；
2. 如果三个值都设置为auto，则width会调整到最大，两个外边距值为0；
3. 如果两个外边距值设置为auto，width值固定，则会将两个外边距设置为相同的值。

可以利用这一特点使一个元素在其父元素中水平居中。如果没有值被设置为auto，则会自动调整margin-right的值使等式成立



### 盒子模型垂直方向上的布局

如果父元素没有设置高度，则会被子元素内容撑开。



#### 子元素溢出

如果父元素设置了高度且子元素的大小超过了父元素，则子元素会从父元素中溢出。

使用overflow属性来设置父元素对子元素溢出部分的处理

- visible，默认值，子元素溢出部分会在父元素外部显示；

- hidden，溢出部分会被裁减而不会显示；

- scroll，生成水平和垂直两个方向的滚动条以便查看完整内容；

- auto，根据需要生成滚动条，避免多余的滚动条出现。

overflow-x，overflow-y，可分别用于单独处理水平方向和垂直方向的溢出。



## 行内元素的盒模型

行内元素不支持设置宽度和高度，可以设置内外边距和边框，而不会影响垂直方向上的布局。



### display

可以用来设置元素显示的类型。

- inline，将元素设置为行内元素；

- block，将元素设置为块元素；

- inline-block，将元素设置为行内块元素，行内块元素既可以设置宽高又不会独占一行；

- table，将元素设置为一个表格；

- none，将元素不在页面中显示。



### visibility

用来设置元素的显示状态。

- visible，默认值，元素在页面中正常显示；

- hidden，元素在页面中不显示，但仍然会占据页面中的位置。



## 浏览器默认样式

通常情况下，浏览器会为元素设置一些默认样式，这会影响到页面的布局。所以需要去除这些默认样式（PC端）。



## 盒子的大小

默认情况下，盒子可见框的大小由内容区、内边距和边框共同决定。

box-sizing 用来设置盒子尺寸的计算方式，可选值如下：

- content-box，默认值，宽度和高度用来设置内容区的大小；

- border-box，宽度和高度用来设置整个盒子可见框的大小。



## 轮廓

outline用来设置元素的轮廓线，用法和border一样。

但是和border的不同点在于，轮廓并不会影响到可见框的大小



## 阴影

box-shadow用来设置元素的阴影效果，阴影也不会影响布局

```css
box-shadow 10px 10px black;
```

1. 第一个值是水平偏移量，正值向右移动，负值相反；
2. 第二个值是垂直偏移量，正值向下移动，负值相反；
3. 第三个值是阴影模糊半径；
4. 第四个值是阴影的颜色。



## 圆角

border-radius可以用来设置圆的半径。

可以分别单独指定一个角的半径，如：

```css
border-top-left-radius: 10px;
```



也可以采取简写规则：

```css
border-radius: 10px 20px 30px 40px;
```



将元素设置为一个圆形：

```css
border-radius: 50%；
```



## 浮动

通过float可以让一个元素向其父元素的左侧或右侧移动。

可选值有：

- none，默认值，元素不浮动；

- left，元素向左浮动；

- right，元素向右浮动。



元素设置浮动之后，会完全从文档流中脱离，不再占用文档流的位置，因此之前水平布局的等式不需要强制成立。

关于浮动元素有以下几条注意点：

1. 浮动元素默认不会从父元素中移出；
2. 浮动元素向左或向右移动时，不会超过其前边的其他浮动元素；
3. 浮动元素的主要作用是让页面中的元素可以水平排列；
4. 浮动元素不会盖过文字，文字会自动环绕在浮动元素周围。



## 元素脱离文档流的特点

### 块元素脱离

1. 元素不再独占页面的一行；
2. 宽度和高度默认都被内容撑开。



### 行内元素脱离

脱离文档流之后变成块元素，特点与上述块元素一样。





## 高度塌陷

在浮动布局中，父元素高度默认被子元素撑开，当子元素浮动后，子元素会从文档流中脱离，无法撑起父元素的高度，导致父元素的高度丢失，以导致页面的混乱。



## BFC

Block Formatting Context，块级格式化环境。是CSS中的一个隐含的属性，为一个元素开启BFC会使该元素变成一个独立的布局区域。



### 元素开启BFC之后的特点

1. 开启BFC的元素不会被浮动元素覆盖；
2. 开启BFC的子元素和父元素外边距不会重叠；
3. 开启BFC的元素可以包含浮动的子元素。



### BFC开启方式；

1. 子元素浮动，则将父元素也设置为浮动（不推荐）；
2. 将元素设置为行内块元素（不推荐）；
3. 将元素的overflow设置为一个非visible的值，常用的值为hidden或auto（推荐）。



## clear

可以清除浮动元素对当前元素的影响。

设置了clear之后，浏览器会自动为元素添加一个上外边距以使其位置不受其他元素的影响。



可选值有：

1. left，清除左侧浮动元素对当前元素的影响；
2. right，清除右侧浮动元素对当前元素的影响；
3. both，清除两侧中影响更大的一侧的影响。



## 定位

定位可以将元素摆放到页面的任意位置，通过position属性来设置定位。

偏移量，定位元素和定位位置的边的距离

- top

- bottom

- left

- right



### static

默认值，元素是静止的，没有开启定位。



### relative

相对定位

```css
position relative;
```

- 参照元素原本在文档流中的位置进行定位；

- 相对定位会提高元素的层级；

- 相对定位不会使元素脱离文档流；

- 相对定位不会改变元素的性质（块元素、行内元素）。



### absolute

绝对定位

```css
position absolute;
```

- 如果开启了绝对定位，而没有设置偏移量，则元素的位置不会发生变化；

- 开启绝对定位会使元素从文档流中脱离；

- 绝对定位会改变元素的性质，行内元素变成块元素，块元素的宽高被内容撑开；

- 绝对定位会提高元素的层级；

- 绝对定位是相对其包含块进行定位的。



关于包含块

- 正常情况下是离当前元素最近的祖先元素；

- 绝对定位的包含块就是离它最近的开启了定位的祖先元素，如果所有的祖先元素都没有开启定位则根元素就是它的包含块。



### fixed

固定定位

- 固定定位也是一种绝对定位，两者大部分特点都一样；

- 唯一的不同点在于固定定位永远参照于浏览器的视口进行定位，元素不会随着浏览器的滚动条滚动。



### sticky

粘滞定位 

- 粘滞定位和相对定位特点基本一致，不同点在于粘滞定位可以在元素到达某个位置时将其固定；

- 兼容性不好。



## 元素的层级

可以通过z-index来指定元素的层级，值越大的元素层级越高，层级高的元素优先显示。

1. 如果元素的层级一样，则优先显示结构中靠下的元素；
2. 祖先元素无论层级高低，都不会盖住后代元素。
